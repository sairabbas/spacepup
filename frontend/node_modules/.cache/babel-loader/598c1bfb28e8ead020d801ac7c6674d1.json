{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sairabbas/Documents/CMPE172/spacepup/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sairabbas/Documents/CMPE172/spacepup/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/sairabbas/Documents/CMPE172/spacepup/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/sairabbas/Documents/CMPE172/spacepup/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sairabbas/Documents/CMPE172/spacepup/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/sairabbas/Documents/CMPE172/spacepup/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/sairabbas/Documents/CMPE172/spacepup/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/sairabbas/Documents/CMPE172/spacepup/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/sairabbas/Documents/CMPE172/spacepup/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Container,Input,Button,Label,Form,FormGroup}from'reactstrap';import{Link}from'react-router-dom';import DatePicker from'react-datepicker';import AppNav from'./AppNav';var EditEvent=/*#__PURE__*/function(_Component){_inherits(EditEvent,_Component);function EditEvent(props){var _this;_classCallCheck(this,EditEvent);_this=_possibleConstructorReturn(this,_getPrototypeOf(EditEvent).call(this,props));_this.onChange=function(e){return _this.setState(_defineProperty({},e.target.name,e.target.value));};_this.state={id:'',name:'',event_date:new Date()};_this.handleDateChange=_this.handleDateChange.bind(_assertThisInitialized(_this));_this.loadEvent=_this.loadEvent.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(EditEvent,[{key:\"handleSubmit\",value:function(){var _handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var item;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();item=this.state;_context.next=4;return fetch('/api/event/'+this.state.id,{method:'PUT',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify(item)});case 4:this.props.history.push(\"/event\");case 5:case\"end\":return _context.stop();}}},_callee,this);}));function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}return handleSubmit;}()},{key:\"componentDidMount\",value:function componentDidMount(){this.loadEvent();}},{key:\"handleDateChange\",value:function handleDateChange(date){this.setState({event_date:date});}},{key:\"loadEvent\",value:function(){var _loadEvent=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,event;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('/api/event/'+window.localStorage.getItem(\"eventId\"));case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:event=_context2.sent;this.setState({id:event.id,name:event.name});case 7:case\"end\":return _context2.stop();}}},_callee2,this);}));function loadEvent(){return _loadEvent.apply(this,arguments);}return loadEvent;}()},{key:\"render\",value:function render(){var title=React.createElement(\"h3\",null,\"Edit Form\");return React.createElement(\"div\",{style:{backgroundColor:'#8AC7DB'}},React.createElement(AppNav,null),React.createElement(Container,null,title,React.createElement(Form,{onSubmit:this.handleSubmit},React.createElement(FormGroup,null,React.createElement(Label,{for:\"name\"},\"Title\"),React.createElement(Input,{type:\"text\",name:\"name\",id:\"name\",value:this.state.name,onChange:this.onChange,autoComplete:\"name\"})),React.createElement(FormGroup,null,React.createElement(Label,{for:\"event_date\"},\"Date\"),React.createElement(DatePicker,{selected:this.state.event_date,onChange:this.handleDateChange})),React.createElement(FormGroup,null,React.createElement(Button,{color:\"primary\",type:\"submit\"},\"Edit\"),' ',React.createElement(Button,{color:\"secondary\",tag:Link,to:\"/event\"},\"Cancel\")))));}}]);return EditEvent;}(Component);export default EditEvent;","map":{"version":3,"sources":["/Users/sairabbas/Documents/CMPE172/spacepup/frontend/src/components/EditEvent.js"],"names":["React","Component","Container","Input","Button","Label","Form","FormGroup","Link","DatePicker","AppNav","EditEvent","props","onChange","e","setState","target","name","value","state","id","event_date","Date","handleDateChange","bind","loadEvent","handleSubmit","event","preventDefault","item","fetch","method","headers","body","JSON","stringify","history","push","date","window","localStorage","getItem","response","json","title","backgroundColor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Container, Input, Button, Label, Form, FormGroup } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport DatePicker from 'react-datepicker';\r\n\r\nimport AppNav from './AppNav';\r\n\r\nclass EditEvent extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state ={\r\n            id: '',\r\n            name: '',\r\n            event_date: new Date()\r\n        }\r\n        this.handleDateChange = this.handleDateChange.bind(this);\r\n        this.loadEvent = this.loadEvent.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        const item = this.state;\r\n        await fetch('/api/event/'+ this.state.id, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(item)\r\n        });\r\n        \r\n        this.props.history.push(\"/event\");\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadEvent();\r\n    }\r\n\r\n    handleDateChange(date) {\r\n        this.setState({ event_date: date });\r\n    }\r\n\r\n    async loadEvent() {\r\n        const response = await fetch('/api/event/' + window.localStorage.getItem(\"eventId\"));\r\n        const event = await response.json();\r\n        this.setState({\r\n            id: event.id,\r\n            name: event.name\r\n        });\r\n    }\r\n\r\n    onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n    render() {\r\n        const title = <h3>Edit Form</h3>\r\n\r\n        return (\r\n            <div style={{backgroundColor: '#8AC7DB'}}>\r\n                <AppNav />\r\n                <Container>\r\n                    {title}\r\n                    <Form onSubmit={this.handleSubmit}>\r\n                        <FormGroup>\r\n                            <Label for=\"name\">Title</Label>\r\n                            <Input type=\"text\" name=\"name\" id=\"name\" value={this.state.name}\r\n                                onChange={this.onChange} autoComplete=\"name\" />\r\n                        </FormGroup>\r\n\r\n                        <FormGroup>\r\n                            <Label for=\"event_date\">Date</Label>\r\n                            <DatePicker selected={this.state.event_date} onChange={this.handleDateChange} />\r\n                        </FormGroup>\r\n                        \r\n                        <FormGroup>\r\n                            <Button color=\"primary\" type=\"submit\">Edit</Button>{' '}\r\n                            <Button color=\"secondary\" tag={Link} to=\"/event\">Cancel</Button>\r\n                        </FormGroup>\r\n                    </Form>\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default EditEvent;"]},"metadata":{},"sourceType":"module"}