{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sairabbas/Documents/CMPE172/spacepup/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sairabbas/Documents/CMPE172/spacepup/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/sairabbas/Documents/CMPE172/spacepup/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sairabbas/Documents/CMPE172/spacepup/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/sairabbas/Documents/CMPE172/spacepup/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/sairabbas/Documents/CMPE172/spacepup/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/sairabbas/Documents/CMPE172/spacepup/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/sairabbas/Documents/CMPE172/spacepup/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Button}from'reactstrap';import Moment from'react-moment';import AppNav from'./AppNav';var User=/*#__PURE__*/function(_Component){_inherits(User,_Component);function User(props){var _this;_classCallCheck(this,User);_this=_possibleConstructorReturn(this,_getPrototypeOf(User).call(this,props));_this.state={isLoading:true,Events:[]};_this.bookEvent=_this.bookEvent.bind(_assertThisInitialized(_this));return _this;}_createClass(User,[{key:\"bookEvent\",value:function bookEvent(id){window.localStorage.setItem(\"eventId\",id);this.props.history.push('/booking');}},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,body;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('/api/events');case 2:response=_context.sent;_context.next=5;return response.json();case 5:body=_context.sent;this.setState({Events:body,isLoading:false});case 7:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,Events=_this$state.Events,isLoading=_this$state.isLoading;if(isLoading)return React.createElement(\"div\",null,\"Loading...\");return React.createElement(\"div\",null,React.createElement(AppNav,null),React.createElement(\"h1\",{style:{display:'flex',justifyContent:'center',alignItems:'center'}},\"Available Rooms\"),Events.map(function(event){return React.createElement(\"div\",{id:event.id,className:\"boxed\",style:{justifyContent:'center'}},React.createElement(\"h3\",null,event.name),React.createElement(Moment,{format:\"DD/MM/YYYY\"},event.event_date),React.createElement(\"hr\",null),React.createElement(\"p\",null,\"Blew up and I'm in the city still, I'm still here, dawg\"),React.createElement(Button,{color:\"primary\",onClick:function onClick(){return _this2.bookEvent(event.id);}},\"Book\"));}));}}]);return User;}(Component);export default User;","map":{"version":3,"sources":["/Users/sairabbas/Documents/CMPE172/spacepup/frontend/src/components/User.js"],"names":["React","Component","Button","Moment","AppNav","User","props","state","isLoading","Events","bookEvent","bind","id","window","localStorage","setItem","history","push","fetch","response","json","body","setState","display","justifyContent","alignItems","map","event","name","event_date"],"mappings":"m3CAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,MAAT,KAAuB,YAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,GAEMC,CAAAA,I,8DAEF,cAAYC,KAAZ,CAAmB,sCACf,sEAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACTC,SAAS,CAAE,IADF,CAETC,MAAM,CAAE,EAFC,CAAb,CAIA,MAAKC,SAAL,CAAiB,MAAKA,SAAL,CAAeC,IAAf,+BAAjB,CANe,aAOlB,C,6DAESC,E,CAAI,CACVC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,SAA5B,CAAuCH,EAAvC,EACA,KAAKN,KAAL,CAAWU,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB,EACH,C,sSAG0BC,CAAAA,KAAK,CAAC,aAAD,C,QAAtBC,Q,qCACaA,CAAAA,QAAQ,CAACC,IAAT,E,QAAbC,I,eACN,KAAKC,QAAL,CAAc,CAACb,MAAM,CAAEY,IAAT,CAAeb,SAAS,CAAE,KAA1B,CAAd,E,+MAGK,iCACuB,KAAKD,KAD5B,CACEE,MADF,aACEA,MADF,CACUD,SADV,aACUA,SADV,CAEL,GAAGA,SAAH,CACI,MAAQ,6CAAR,CAEJ,MACI,gCACI,oBAAC,MAAD,MADJ,CAEI,0BAAI,KAAK,CAAE,CAACe,OAAO,CAAE,MAAV,CAAkBC,cAAc,CAAE,QAAlC,CAA4CC,UAAU,CAAE,QAAxD,CAAX,oBAFJ,CAIQhB,MAAM,CAACiB,GAAP,CAAW,SAAAC,KAAK,QACZ,4BAAK,EAAE,CAAEA,KAAK,CAACf,EAAf,CAAmB,SAAS,CAAC,OAA7B,CAAqC,KAAK,CAAE,CAAEY,cAAc,CAAE,QAAlB,CAA5C,EACI,8BAAKG,KAAK,CAACC,IAAX,CADJ,CAEI,oBAAC,MAAD,EAAQ,MAAM,CAAC,YAAf,EAA6BD,KAAK,CAACE,UAAnC,CAFJ,CAGI,8BAHJ,CAII,uFAJJ,CAKI,oBAAC,MAAD,EACI,KAAK,CAAC,SADV,CAEI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACnB,SAAL,CAAeiB,KAAK,CAACf,EAArB,CAAN,EAFb,SALJ,CADY,EAAhB,CAJR,CADJ,CAsBH,C,kBAjDcX,S,EAoDnB,cAAeI,CAAAA,IAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport Moment from 'react-moment';\r\n\r\nimport AppNav from './AppNav';\r\n\r\nclass User extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isLoading: true,\r\n            Events: []\r\n        }\r\n        this.bookEvent = this.bookEvent.bind(this);\r\n    }\r\n\r\n    bookEvent(id) {\r\n        window.localStorage.setItem(\"eventId\", id);\r\n        this.props.history.push('/booking');\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const response = await fetch('/api/events');\r\n        const body = await response.json();\r\n        this.setState({Events: body, isLoading: false});\r\n    }\r\n\r\n    render() {\r\n        const {Events, isLoading} = this.state;\r\n        if(isLoading)\r\n            return (<div>Loading...</div>);\r\n\r\n        return (\r\n            <div>\r\n                <AppNav />\r\n                <h1 style={{display: 'flex', justifyContent: 'center', alignItems: 'center'}} >Available Rooms</h1>\r\n                {\r\n                    Events.map(event => \r\n                        <div id={event.id} className=\"boxed\" style={{ justifyContent: 'center'}}>\r\n                            <h3>{event.name}</h3>\r\n                            <Moment format=\"DD/MM/YYYY\">{event.event_date}</Moment>\r\n                            <hr />\r\n                            <p>Blew up and I'm in the city still, I'm still here, dawg</p>\r\n                            <Button \r\n                                color=\"primary\"\r\n                                onClick={() => this.bookEvent(event.id)}\r\n                                >\r\n                                Book\r\n                                </Button>\r\n                        </div>    \r\n                    )\r\n                }   \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default User;"]},"metadata":{},"sourceType":"module"}